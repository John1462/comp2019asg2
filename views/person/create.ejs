<!--create.ejs-->

<form action="/person/create" method="POST">
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-6">
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" name="Person[title]" required>
                </div>

                <div class="form-group">
                    <label>Restaurant</label>
                    <input type="text" class="form-control" name="Person[restaurant]" required>
                </div>

                <div class="form-group">
                    <label>District</label>
                    <select id="district" onchange="districtSelected()" name="Person[district]" class="form-control" required> 
                        <option value="0">Choose one</option>
                        <option value="HKIsland">HK Island</option>
                        <option value="Kowloon">Kowloon</option>
                        <option value="New Territories">New Territories</option>
                     </select>
                </div>

                <div class="form-group">
                    <label>Mall</label>
                    <select id="mall" disabled name="Person[mall]" class="form-control" required>
                        <option value=“0”>Choose one</option>
                     </select>
                </div>

                <div class="form-group">
                    <label>Image</label>
                    <input type="text" class="form-control" name="Person[image]" required>
                </div>
            </div>

            <div class="col-12 col-md-6">
                <div class="form-group">
                    <label>Coin</label>
                    <input type="text" class="form-control" name="Person[coin]" required>
                </div>

                <div class="form-group">
                    <label>Deal Vaild Till</label>
                    <div class="input-group date" data-provide="datepicker">
                        <input type="text" class="form-control" name="Person[dealvaildtill]" required>
                        <div class="input-group-addon">
                            <span class="glyphicon glyphicon-th"></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Quota</label>
                    <input type="number" class="form-control" min="0" max="500" name="Person[quota]" required>
                </div>
                <div class="form-group">
                    <label>Details</label>
                    <input type="text" class="form-control" name="Person[details]" style="height:120px" required>
                </div>
            </div>
        </div>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>

    <script>
        var hkisland = ["IFC 金鐘太古廣場", "時代廣場", "銅鑼灣世貿中心", "太古城中心", "杏花新城商場", "數碼港商場"];
        var kowloon = ["圓方", "Element Harbour City", "海港城", "美麗華商場", "黃埔新天地", "又一城", "朗豪坊商場", "新世紀廣場", "奧海城 Widow", "MegaBox", "德福廣場商場", "荷里活廣場", "APM"];
        var nt = ["荃新天地", "荃灣廣場", "悅來坊商場", "綠楊坊商場", "新都會廣場 ", "青衣城商場", "屯門市廣場", "東港城", "君薈坊商場", "連理街", "沙田新城市廣場", "大埔超級城"]

        function districtSelected() {

            var district = document.getElementById("district").value;
            var mallSelect = document.getElementById("mall");
            mallSelect.options.length = 0;

            if (district == "HKIsland") {

                hkisland.forEach(function (item) {
                    var option = document.createElement("option");
                    option.text = item;
                    option.value = item;
                    mallSelect.add(option);
                });

                mallSelect.disabled = false;

            } else if (district == "Kowloon") {

                kowloon.forEach(function (item) {
                    var option = document.createElement("option");
                    option.text = item;
                    option.value = item;
                    mallSelect.add(option);
                });

                mallSelect.disabled = false;

            } else if (district == "New Territories") {

                nt.forEach(function (item) {
                    var option = document.createElement("option");
                    option.text = item;
                    option.value = item;
                    mallSelect.add(option);
                });

                mallSelect.disabled = false;

            } else {

                mallSelect.disabled = true;

            }
        }
    </script>

</form>